<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Grid mit 1000 Checkboxen</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Responsive Grid mit 1000 Checkboxen</h1>
    <p id="counter">Angeklickte Checkboxen: 0</p>
    <div class="grid-container" id="grid-container"></div>

    <script>
        const gridContainer = document.getElementById('grid-container');
        const counter = document.getElementById('counter');
        let clickedCount = 0;

        // Lade den gespeicherten Zustand der Checkboxen aus dem LocalStorage
        const savedState = JSON.parse(localStorage.getItem('checkboxStates')) || [];

        // Erstelle die Checkboxen und wende den gespeicherten Zustand an
        for (let i = 0; i < 1000; i++) {
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.className = 'checkbox';
            checkbox.dataset.index = i; // Speichert den Index als Attribut für die Identifikation

            // Wenn ein gespeicherter Zustand vorhanden ist, Checkbox entsprechend setzen
            if (savedState[i]) {
                checkbox.checked = true;
                clickedCount++;
            }

            // Event Listener für Klicks
            checkbox.addEventListener('change', () => {
                if (checkbox.checked) {
                    clickedCount++;
                } else {
                    clickedCount--;
                }
                counter.textContent = `Angeklickte Checkboxen: ${clickedCount}`;

                // Speichere den aktuellen Zustand aller Checkboxen
                savedState[i] = checkbox.checked;
                localStorage.setItem('checkboxStates', JSON.stringify(savedState));
            });

            gridContainer.appendChild(checkbox);
        }

        // Aktualisiere den Counter beim Laden der Seite
        counter.textContent = `Angeklickte Checkboxen: ${clickedCount}`;
    </script>
</body>
</html>